----------------------------------------

     SpawnChecker2 README

----------------------------------------

プレイヤー周囲でMobが湧く可能性があるブロックに、マーカーを表示して可視化します。
スライムのスポーンするチャンクを、枠で囲み可視化します。マルチプレイでの使用も可能(*1)です。
スポーナーのスポーン範囲などの情報を可視化できる機能(*2)を提供します。

(*1) マルチのワールドのシード値を知っている必要あり。設定はファイルに書き込む。
(*2) スポーン範囲(立方体)/同種Mob湧き数制限範囲(立方体)/スポーナー起動範囲(球)/スポーン可否(ブロック単位で表示)

※過去バージョンとの差異により、現段階で未実装の機能説明が含まれている場合があります。

===================================================================================================
●操作説明
===================================================================================================
カーソル[上]/[下]キー、およびテンキーの[＋]/[－]と、
モディファイアキー([CTRL]/[ALT]/[SHIFT])を組み合わせての操作になります。

なお、スポーナー可視化モードの、キー操作を用いた起動方法は廃止されました。
スポーンブロックを「素手で」左クリック(または右クリック)のみの起動となっています。
  ※攻撃/ブロック破壊ボタン(左クリック)と、アイテム使用/ブロック設置ボタン(右クリック)に
    機能を割り当てているので、デフォルト設定を変更をしていた場合はクリック以外の操作で機能します。

- モード変更(SpawnChecker/SlimeChunkVisualizerの切り替え)
	[CTRL] + [上] / [CTRL] + [下] キー

- モードオプション変更
	[上] / [下] キー

- 水平範囲変更
	[＋] / [－] キー

- 垂直範囲変更
	[SHIFT] + [＋] / [SHIFT] + [－] キー
	[ALT] + [＋] / [ALT] + [－] キー
	(※Shiftキーだと飛行中に降下してしまうため、SpawnChecker2.0.0.126よりALTキーとの同時押しでも垂直範囲が変更できます)

- マーカーの明るさ変更
	[CTRL] + [＋] / [CTRL] + [－] キー

[上][下][＋][－]キーへの割り当ては、マインクラフトのコントロール画面より変更が可能です。


===================================================================================================
●インストール方法
===================================================================================================
MinecraftForge が導入されたMinecraftで動作します。

 http://www.minecraftforge.net/ (オフィシャルサイト)
 http://files.minecraftforge.net/ (ダウンロード専用サイト)

上記のダウンロードサイトの「(Installer)」よりForgeインストーラーをダウンロードし、実行してください。
詳しいForgeの導入方法などはサポートできませんので、詳細は検索サイトで調べてください。

MinecraftForgeを導入した状態でMinecraftを起動し終了すると、Game Directory以下にmodsフォルダーが生成されます。
そこにこのSpawnCheckerのjarファイルを、展開しないまま配置し、Minecraftを起動してください。

設定ファイルは、初回の起動時に、Game Directory以下のconfigフォルダー以下に生成されます。

===================================================================================================
●モード説明
===================================================================================================

SpawnChecker には以下の3つのモードがあります。

 - スポーンチェッカー (SpawnChecker)
 - スライムチャンク可視化 (Slime chunk visualizer)
 - スポーナー可視化 (Spawner Visualizer)

それぞれのモードには、モードオプションがあり、マーカーの表示方法や、表示内容を変更可能です。

以下に各モードの概要を記載します。

-------------------------------------------------------
[Spawn checker] - スポーンする場所の可視化 -
-------------------------------------------------------
▼概要

スポーンチェッカーのメイン機能です。

モンスターがスポーンする可能性のあるブロックに、マーカーを描画します。

※注意
2014/06/25現在の1.7.2版では、ネザー、ジエンドでは正しく動作せず、ガストマーカーの機能も実装されていません。
そのため、今後オプションの値に変更が入る可能性があります。

モードオプション:
disable, marker, guideline, slime, force, force_marker, force_slime, force_guideline

デフォルト設定:
  "disable"
  "marker"
  "force_marker"
  "marker,guideline"
  "force_marker,guideline"
  "marker,guideline,force"
  "marker,slime"
  "force_marker,slime"
  "marker,force_slime"
  "marker,slime,guideline"
  "force_marker,slime,guideline"
  "marker,force_slime,guideline"
  "marker,slime,guideline,force"

▼デフォルトのマーカー色と、それに対応するモンスターについて

 ▽透過緑
 (通常)   エンダーマン, クリーパー, スケルトン, ゾンビ  ※マーカー中心に3x3の広さがあればスパイダーも対象
 (ネザー) 表示されません
 (エンド) エンダーマン

 ▽透過黄
 (通常)   クリーパー, スケルトン, ゾンビ  ※マーカー中心に3x3の広さがあればスパイダーも対象
 (ネザー) ゾンビピッグマン, マグマキューブ
 (エンド) 表示されません

 ▽透過青
 (通常)   スパイダー, スケルトンライダーのみ
 (ネザー) マグマキューブのみ
 (エンド) 表示されません

 ▽透過白
 (通常)   表示されません
 (ネザー) ガスト
 (エンド) 表示されません

 ▽中心からずれた位置に透過水色
 (通常)   スライム
 (ネザー) 表示されません
 (エンド) 表示されません


※スパイダーがPOPするには、3x3x1のスペースが必要で、
  中心の y+1 座標は透過ブロックか、ブロックがない場合にのみスポーンが可能です。

※スライム、マグマキューブのみのマーカーの表示は、最小サイズのスライム、マグマキューブの大きさで判定します。
  この2種は、スポーン判定時にランダムで大きさが決まります。
  なので、実際にモンスターがスポーンする際の判定で、ランダムに選択された初期の大きさが最小サイズでない場合は、
  スポーンするよマーカーが表示されている場所でも、スポーンしてこない事もあります。

※ネザーの橋(遺跡)が生成される際は、橋の上にブレイズのスポーン判定があります。(そしてガストは判定から除外されます)
  そのため、ネザーの橋に野良ブレイズが沸いていることがあります。
  しかし橋の生成は、常時発生する可能性があるわけではないため、マーカーの表示対象とはしていません。
  野良ブレイズを見かけたらラッキーと思ってください。出会えても良いことは特にないですが＞＜。
  なお、1.4.xで追加されたウィザースケルトンも野良ブレイズと同じ条件で生成されます。
  そのため、こちらのスポーン判定も表示対象ではありません。ちょっとレアMobすぎる気がします。

※スケライダーは、スパイダーのスポーン判定に成功後、いくつかの条件を元に、ランダムでライダーに置換されます。
  そのため、スパイダーがスポーンできる場所であれば、スポーンする可能性があります。
  ただし、場所によっては置換される確率0%のところもありそうなので、絶対にスポーンしない場所もあります。(ﾀﾌﾞﾝ)
  そのため、スポーン判定の対象とはしていません。

※ガストは浮いてますが、スポーン判定は他のモンスターと同様に、上面が平らな通常ブロックの上にしかありません。
  (1.3.xからは、逆さまに設置した階段やハーフロックの上も判定対象ですが…)
  ただし、ガストは大きいため、他のモンスターよりも大きなスペースがある場所にしかスポーンは出来ません。
  5x5x5ブロック分くらいの空間があればスポーンします。
  ガストのマーカーも他のマーカー同様、Mobの大きさで空間のチェックを行い、
  スペースが十分にある場所にのみ表示されるようになっています。

※通常世界ではガストを含むモードオプション、ネザーではスライムを含むモードオプションは、全て選択不可になります。
  また、通常世界でも、ワールドシードが不明な場合はスライムを含むモードオプションも選択不可になります。

※モードオプションのセットは設定ファイルより変更することが可能です。
  でも割とスパゲッティな設定なのでお勧めはしません。

※ジエンド…？ソンナノシリマセーン！
  暗ければヤツがでる。それだけです。
  「見えなくたって、わかるだろ…？」


-------------------------------------------------------
[Slime chunk finder] - スライムチャンクの可視化 -
-------------------------------------------------------
▼概要
スライムチャンク、スライムのスポーンマーカーのみに機能を絞ったモードです。
チェック範囲内に入ったことのあるスライムチャンクを囲む枠を描画します。

チェック範囲に入ったことのないスライムチャンクは表示されないため、
何も表示されない場合、一度チェック範囲を広げるか、周囲を歩き回ってみてください。
一度表示した位置はしばらくキャッシュされます。離れてるとそのうち忘れます。

マルチプレイでは、サーバーのシードを正しく設定してある場合のみ、表示が可能です。

通常のスライムマーカーとガイドライン、チャンクマーカーを組み合わせた、数パターンのモードオプションがあります。
通常のスポーンマーカーとガイドラインは、y40以下のブロックに、スポーン条件が整っている場合のみ表示されます。
チャンクマーカーはスライムの湧くチャンクに、自分のy座標を基点に表示されます。
地上からスライムチャンクを探すのに便利です。


-------------------------------------------------------
[Spawner Visualizer] - スポーンブロック情報の可視化 -
-------------------------------------------------------
▼概要
スポーンブロックの情報の可視化を行うモードです。
モンスターのスポーン範囲や、スポーン上限チェック範囲、スポーンが開始する範囲などを描画します。

スポーンブロックを素手で叩く（左または右クリックする）ことでモードが切り替わります。
情報表示を開始した場合、スポーナーに赤い枠が表示されます。
再度叩くか、一定以上離れるか、スポーンブロックが破壊されると元のモードに戻ります。

情報の表示内容は、上下キーでオプションを変更してください。

表示できる情報は、次のとおりです。
 1. スポーン判定の行われる範囲
 2. スポーン6匹制限の判定範囲
 3. 明るさとMobの大きさを考慮した、スポーン可否判定 （精度は悪い）
 4. スポーナーが起動する範囲


[補足]
スポーン可否判定のマーカーは、座標の中心が選択されたことを想定してチェックしています。
しかし、スポーン判定が行われるXYZの空間座標は、「1. スポーン判定の行われる範囲」の枠内の
全ての場所からランダムに選択されるため、常にブロックの中心の座標が選ばれるわけではありません。
 ※つまり、小数点以下の値を含めた座標で、スポーン判定を行う座標の中心が決定されます。

そのため、スポーン可否マーカーが「出現する」、または「出現しない」と示している場所であっても、
中心からずれた場所が選択された場合は出現できる、出来ないという事が起こります。

 ※例えば、スポーン可能範囲を全て鉄作で埋めてしまうと、マーカーはスポーンできない判定になりますが、
   実際は、鉄作と鉄作の隙間にモンスターがスポーン可能なため、暗くなればスポーンしてきます。

また、1.4.2でスポーン判定に使っている指定座標の明るさ情報が、特定条件下で取得できなくなってしまいました。
(判定を行うサーバー側でのみ情報を持っているようです。おそらく光源バグの修正の一環での変更ではないかと考えています。)
そのため、上空にブロックがなく、空が見えている座標での明るさを、現在時刻などを条件にしてアバウトに決定しているため、
スポーン判定は常に正しいとは限りません。あくまでも参考情報としてお考え下さい。

スポーン6匹制限の範囲は立方体です。
この範囲に同種Mobがいると、上限数以上はスポーンしなくなります。
処理装置を作る場合、この範囲外になるようにモンスターを移動させるようにすると、制限なくスポーンし続けるようになります。

スポーナーの起動範囲(炎が点りスポーナーが動き始める範囲)は、スポーナーを中心とした球体で、およそ16ブロック分の範囲です。


===================================================================================================
●設定ファイルについて
===================================================================================================

SpawnChecker2より、サーバーシード値の設定ファイルなどを含め、設定は全て spawnchecker.cfg ファイルに統合されました。
設定ファイルに似非英語の説明などつけているので、そちらを参照ください。


-------------
 color
-------------
[色設定カテゴリ]

各種マーカーの色や、状態情報の文字色などを設定できます。

-------------
 common
-------------
[共通設定カテゴリ]

画面左に出る状態情報の位置や表示時間、フェードアウト時間、アイコンの有無などを変更できます。

-------------
 controls
-------------
[操作設定カテゴリ]

キー押下時のリピート間隔が変更できます。

-------------
 mode
-------------
[モード設定カテゴリ]

モード共通の設定（範囲設定やモードの更新間隔の設定など）が変更できます。

前回選択していたモードやオプションもこのカテゴリこに保存されています。

また、サブカテゴリとして、各種モード個別の設定もここで変更できます。
マーカーのアニメーション関連の設定や、モードオプションの組み合わせリストの設定などが変更できます。

-------------
 world-seeds
-------------
[マルチワールドのシード設定カテゴリ]

以下のような形式で設定を追加することで、シード値のわからないマルチプレイのワールドで、スライム関連の機能が有効になります。

> ホスト名:ポート番号=シード値
> IPアドレス:ポート番号=シード値

-------------
 internal
-------------
[内部定数設定カテゴリ]

基本的に変更する意味はありません。
わかる人だけご利用ください。


-------------------------------------------------------
マルチプレイでのワールドシードの設定について
-------------------------------------------------------

Minecraft 1.2.3より、マルチプレイ時にワールドのシード値が取得できなくなりました。
シードが不明な場合、スライムの判定が行えません。
この仕様変更に対応するために、サーバーのシードを設定ファイルより読み込むことが出来る機能を設けています。

接続先のサーバーとポート番号の情報、およびサーバーのワールドのシード値が別途必要になります。

サーバーはIPアドレス、またはホスト名で設定が可能です。
ポート番号は省略できます。省略した場合、デフォルトのポート番号である 25565 になります。

シードは文字列ではなく64bitの数値(long型の値)で指定します。

この値は、level.dat 内に格納されている情報です。詳細はWikiなどで検索してください。
http://www26.atwiki.jp/minecraft/pages/73.html#CheckSeeds

Minecraft1.3.x以降では、OP権限(サーバー管理者権限)がある場合、/seed コマンドにてシード値が取得できるようになっています。
(シングルプレイでは、全ユーザーが常に使用可能です。)

権限がない場合、ゲーム内よりサーバーのシード値を取得する方法はありません。
各サーバーの管理者にお問い合わせください。
(必ず教えてもらえるかはわかりません。聞く場合は迷惑にならないようにね！)


===================================================================================================
●再配布について
===================================================================================================

以下を満たすことを条件に、SpawnCheckerオリジナル作者fillppo氏より再配布の許可を得ています。

1. ソース付きでの公開
2. チート的な機能は追加しない
3. 機能改良は行わない
4. 今後継続的にサポートをしていくのであれば3.の条件は無し

そのため、今後SpawnCheckerとして当Modを配布する限り、この条件は有効であると考えています。
今後何らかの理由により、alalwwwによるSpawnCheckerの開発およびサポートが中断されてしまった場合、
別途何らかの形でfillppo氏より要請がある場合を除いて、上記4項を全て満たしている限り、第三者による「SpawnChecker」としての再配布は可能とします。

なお、開発引き継ぎ当初のコードは現在は一切残っていないため、より明確な条件として、コード自体はMMPLライセンスの条件のもとに配布しています。
コード断片の再利用などは、こちらの条件の元にお願いします。


(Jun 26, 2014 alalwww)

